title: REMEDY架构思路
date: 2013-09-24 11:14
categories: 架构设计
---
近期工作是分析某个业界产品的架构设计，重点关注其支持配置和二次开发的特性，过程中感觉有些设计值得借鉴，在此总结一下
<!--more-->

# 整体架构

系统大致上是C/S架构。server可以响应多种client的请求。client包括与产家提供的标准client，也包括用户自行二次开发的client 

浏览器不直接访问Server，而是专门由单独的Web Server提供页面，因此也可以认为Web Server是一个特殊的client 

# 设计关键点
 
总结了以下几个设计的关键点 
 
## Server在逻辑上划分为接口层和业务逻辑层

client不会直接访问业务逻辑层，所有的请求都是由接口层处理的。逻辑层处理具体的业务，接口层提供了若干restful接口 

## 接口层抽象了请求差异，提供了若干统一接口

这个其实是接口粒度的设计问题 

## 提供了二次开发SDK

客户如果需要自行二次开发client，就需要用到二次开发SDK。通过SDK，对客户端隐藏了server的实现细节，从而带来3个好处：首先是方便，其次是安全，然后是客户端稳定性 

方便如果没有API，那么client要与server交互，就必须自行处理建立连接、封装协议、组装数据、解析响应、校验身份等，那么二次开发的难度就会很大 

安全：通过抽象的接口，向客户端隐藏了server的具体实现 

客户端稳定性：只要接口层保持稳定，那么server端的修改，就不会对client造成影响，还可以实现向下兼容的特性 

其实这种设计和模块设计的原则是一致的，需要交互的两个模块（client和server），不直接依赖，而是通过接口（接口层）交互，彼此不了解对方的实现，实现松耦合 