title: 对外发布版本的原则
date: 2013-09-24 11:05
categories: 研发管理
---
本文是以前在华为的时候写的，关于对外发布版本的一些原则。现在再回头看，其实有些规则显得过于严厉了，自己也有了一些新的看法。不过这是当时的一些总结，还是保留下来吧
<!--more-->

# 修改BUG之后，规范填写问题单处理过程

表面上来看，增加了额外的步骤，似乎降低了效率。不过从另外一个角度想，对于已经比较成熟的团队，可能可以不依赖这种管理手段。但是鉴于目前我们开发团队还比较年轻，这些管理手段是必要的。姑且不论规范填写问题单，给BUG管理本身可以带来多大价值，至少通过要求员工规范填写问题单，可以培养员工的执行力，这对促进团队的成熟是很有帮助的。 

团队越成熟，配合越默契，管理成本就越小，所需的管理手段就越少。反之，当团队还不成熟，员工普遍能力较弱的时候，这些管理手段也就是必要的 

# 未经测试的版本，不允许发出

未经测试的版本不能发布，这个原则是很简单的，但是可以引申 

## 版本测试发现问题的处理

版本A已经转测试了，测试过程中发现了一个问题，这个时候能不能用xxx.class替换掉呢？ 不可以，所谓的版本，应该是一个完整的包。如果直接替换文件，那么已经不能保证包的完整性，这个替换后的版本，就等于是一个新的未经测试的版本。在替换之前的测试，严格来说等于是无效的。要发出去，就要重新测一遍。 正确的做法，是把这个问题作为一个遗留问题，评估其影响，写在遗留问题列表中。版本还是正常发出去，这个问题可以在之后修改，合入下一个版本进行测试。如果问题很严重，是版本的严重缺陷，不能外发，那么可以增加一轮测试，回归之后再发布 

## 测试结束后发包的处理 

版本A转测试，测试结束之后，测试可以找开发要一个新的包，发布出去吗？ 不可以，因为这个新的包，不能保证和测试的版本完全一致，那么这个新的包，也就是一个未经测试的版本 正确的做法，应该是把测试的版本发出去。即：转测试时是什么版本，测试结束之后就发什么版本 

## 为现场提供补丁的处理

现场发现了几个问题，开发提供的补丁只有几个文件而已，可以不打标签，直接发出去吗？不可以，所谓的版本，除了“完整性”之外，还需要一个“可标识性”，就像数据的主键一样，能够唯一标识一个版本。没有“可标识性”，就称不上是一个版本。一个版本只要发布了，就存在需要定位问题、回退的可能。如果没有打标签，当需要定位问题，或者日后需要回退的时候，就做不到了 

正确的做法，是只要发了版本，就一定要在代码库上打上标签。这样在任何时候，无论是要搭建现场的镜像环境，或者回滚，或者比较两个版本的差异制作升级包，都可以做到了